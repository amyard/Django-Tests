{% extends 'base.html' %}

{% block title %}
    Main page - {{ block.super }}
{% endblock %}



{% block content %}



<div class="container mt-5">
    {% if user.is_authenticated or user.is_active %}

<!--    SOME PROBLEM HERE    -->
    <div class = 'bg-warning text-dark'>
        {% if profile.city is True or profile.country is True  %}
            <h4 class = 'text-center'>For correct display of information please visit <a href="{% url 'users:profile' user.pk %}">Profile section</a> and fill all fields.</h4>
        {% endif %}
    </div>

    <div class = 'bg-danger text-dark'>
        {% if profile.city is not True or profile.country is not True %}
            <h4 class = 'text-center'>For correct display of information please visit <a href="{% url 'users:profile' user.pk %}">Profile section</a> and fill all fields.</h4>
        {% endif %}
    </div>

    <h2 class = 'text-center'>There are {{ data.count }} posts avaiable to read.</h2>
    <hr>
    {% for post in posts %}

        <div class ='row'>
            <div class = 'col-sm-12' >
                <img src="{{ post.image.url }}" style="width:40%" class = 'float-left'>
                <div class = 'float-right author-heading'>
                    <h5 class = 'float-left'>{{ post.author }}</h5>
                    <i class = 'float-right mt-1'>{{ post.date_posted }}</i>
                </div>

                <div class = 'float-right author-heading'>
                    <hr>
                    <p>{{ post.content|truncatewords:50 }}</p>
                </div>
                <a href="" class = 'btn btn-primary float-right mb-5'>Read Full Article</a>
            </div>
        </div>
        <br>

    {% endfor %}

    <hr>

    <!-- INCLUDE PAGGINATION -->
    {% include 'posts/actions/paggination.html' %}


    {% else %}
        <h2>Please, <a href="{% url 'users:login-view' %}">Log In</a> first.</h2>
    {% endif %}

</div>

{% endblock %}

